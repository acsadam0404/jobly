<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:okfonok="http://okfonok.hu/facelets" xmlns:okfonokcc="http://java.sun.com/jsf/composite/okfonok">

<h:head>
</h:head>

<h:body>
	<ui:composition template="_layout.xhtml">
		<ui:define name="content">
			<p:accordionPanel  id="profileTabView" dynamic="true" cache="false" activeIndex="-1">
				<p:tab title="Alap adatok">
					<h:form prependId="false">
						<h:panelGrid columns="3">
							<p:outputLabel value="Felhasználónév" for="userName" />
							<p:inputText id="userName" value="#{userBean.user.userName}" />
							<p:message for="userName" />

							<p:outputLabel value="Vezetéknév" for="lastName" />
							<p:inputText id="lastName" value="#{userBean.user.profile.lastName}" />
							<p:message for="lastName" severity="error" />

							<p:outputLabel value="Keresztnév" for="firstName" />
							<p:inputText id="firstName" value="#{userBean.user.profile.firstName}" />
							<p:message for="firstName" />

							<p:outputLabel value="E-mail" for="email" />
							<p:inputText id="email" value="#{userBean.user.profile.email}" />
							<p:message for="email" />

							<p:outputLabel value="Telefonszám (mobil)" for="phoneNumber" />
							<p:inputMask id="phoneNumber" value="#{userBean.user.profile.phoneNumber}" mask="(99) 999-9999" />
							<p:message for="phoneNumber" />
							<ui:include src="fragments/address.xhtml">
								<ui:param name="address" value="#{userBean.user.address}" />
							</ui:include>
							<p:outputLabel value="Bemutatkozás" for="introduction" />
							<p:editor id="introduction" value="#{userBean.user.profile.introduction}" controls="bold underline italic" />
							<p:message for="introduction" />
						</h:panelGrid>
						<p:commandButton value="Mentés" action="#{profileBean.save()}" update="@form" />
					</h:form>
				</p:tab>
				<p:tab title="Profil hitelesítése">
					<h:form prependId="false">
						<p:fileUpload id="idCardPicture" cancelLabel="Mégse" uploadLabel="Feltöltés" label="Személyi igazolvány képe" fileUploadListener="#{profileBean.idCardPictureUpload}" mode="advanced" dragDropSupport="false" sizeLimit="100000" fileLimit="3" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" invalidFileMessage="Nem megfelelő fájl:" />
						<p:fileUpload id="addressCardPicture" cancelLabel="Mégse" uploadLabel="Feltöltés" label="Lakcímkártya képe" fileUploadListener="#{profileBean.addressCardPictureUpload}" mode="advanced" dragDropSupport="false" sizeLimit="100000" fileLimit="3" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" invalidFileMessage="Nem megfelelő fájl:" />
						<h:panelGrid columns="2">
							<p:outputLabel value="Személyi igazolvány szám" for="idCardNumber" />
							<p:inputText id="idCardNumber" value="#{userBean.user.certification.idCardNumber}" />
							<p:message for="idCardNumber" />
						</h:panelGrid>
						<h:panelGrid columns="2">
							<p:outputLabel value="Lakcímkártya szám" for="addressCardNumber" />
							<p:inputText id="addressCardNumber" value="#{userBean.user.certification.addressCardNumber}" />
							<p:message for="addressCardNumber" />
						</h:panelGrid>
						<p:commandButton value="Mentés" action="#{profileBean.save()}" update="@form" />
					</h:form>
				</p:tab>
				<p:tab title="Profilkép">
					<h:form prependId="false">
						<p:fileUpload id="profilePicture" cancelLabel="Mégse" uploadLabel="Feltöltés" label="Profilkép" fileUploadListener="#{profileBean.profilePictureUpload}" mode="advanced" dragDropSupport="false" sizeLimit="1000000" fileLimit="3" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" invalidFileMessage="Nem megfelelő fájl:" update=":menuForm:profileImage" />

					</h:form>
				</p:tab>

				<p:tab title="Profil célja">
					<h:form prependId="false">
						<h:panelGrid columns="2">
							<p:outputLabel value="Munkát vállalok" for="employee" />
							<p:selectBooleanCheckbox id="employee" value="#{userBean.user.profile.employee}" />
							<p:outputLabel value="Munkát adok" for="employer" />
							<p:selectBooleanCheckbox id="employer" value="#{userBean.user.profile.employer}" />
						</h:panelGrid>
						<p:commandButton value="Mentés" action="#{profileBean.save()}" update="@form" />
					</h:form>
				</p:tab>

				<p:tab id="employeeTab" title="Munkavállaló">
					<h:form prependId="false">
						<p:accordionPanel>
							<p:tab title="Hol végezne munkát?">
							tab1
						</p:tab>
							<p:tab title="Milyen munkát vállal?">
							tab2
						</p:tab>
							<p:tab title="Skill kör">
							tab3
						</p:tab>
						</p:accordionPanel>
					</h:form>
				</p:tab>

				<p:tab id="employerTab" title="Munkaadó">
					<h:form prependId="false">
						<p:outputLabel for="personalEmployer" value="Saját magam nevében" />
						<p:selectBooleanCheckbox id="personalEmployer" value="#{userBean.user.companyEmployer}" />
						<p:outputLabel for="companyEmployer" value="Cég nevében" />
						<p:selectBooleanCheckbox id="companyEmployer" value="#{userBean.user.personalEmployer}" />

					</h:form>
				</p:tab>
			</p:accordionPanel>
		</ui:define>
	</ui:composition>

</h:body>
</html>