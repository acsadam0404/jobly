<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:okfonok="http://okfonok.hu/facelets"
	xmlns:sec="http://www.springframework.org/security/tags" xmlns:okfonokcc="http://java.sun.com/jsf/composite/okfonok"
	xmlns:pe="http://primefaces.org/ui/extensions" xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
</h:head>

<h:body>
	<ui:composition>
		<h:outputStylesheet library="css" name="postad.css" />
		<h:form id="postadForm">
			<p class="postad-title">Hirdetés feladás</p>
			<h:panelGrid columns="1">
				<p:selectOneMenu id="category" value="#{postAdBean.ad.category}" converter="omnifaces.SelectItemsConverter" filter="true"
					styleClass="postad-category">
					<f:selectItem itemLabel="Kategória" itemValue="" noSelectionOption="true" />
					<f:selectItems value="#{adsBean.getCategories()}" />
				</p:selectOneMenu>

				<p:editor styleClass="postad-editor" value="#{postAdBean.ad.description}" controls="bold italic underline strikethrough" height="140" width="320" />
				<p class="postad-text">A feladat leírásába ne adj meg elérhetőségi adatokat!</p>
				<h:panelGrid columns="5">
					<c:if test="#{not empty postAdBean.ad.imagePaths.get(0)}">
					</c:if>
					<c:otherwise>
						<h:panelGroup styleClass="postad-upload-outer">
							<p:fileUpload label="" styleClass="postad-upload" mode="advanced" auto="true" sizeLimit="100000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
						</h:panelGroup>
					</c:otherwise>
					<c:if test="#{not empty postAdBean.ad.imagePaths.get(1)}">
					</c:if>
					<c:otherwise>
						<h:panelGroup styleClass="postad-upload-outer">
							<p:fileUpload label="" styleClass="postad-upload" mode="advanced" auto="true" sizeLimit="100000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
						</h:panelGroup>
					</c:otherwise>
					<c:if test="#{not empty postAdBean.ad.imagePaths.get(2)}">
					</c:if>
					<c:otherwise>
						<h:panelGroup styleClass="postad-upload-outer">
							<p:fileUpload label="" styleClass="postad-upload" mode="advanced" auto="true" sizeLimit="100000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
						</h:panelGroup>
					</c:otherwise>
					<c:if test="#{not empty postAdBean.ad.imagePaths.get(3)}">
					</c:if>
					<c:otherwise>
						<h:panelGroup styleClass="postad-upload-outer">
							<p:fileUpload label="" styleClass="postad-upload" mode="advanced" auto="true" sizeLimit="100000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
						</h:panelGroup>
					</c:otherwise>
					<c:if test="#{not empty postAdBean.ad.imagePaths.get(4)}">
					</c:if>
					<c:otherwise>
						<h:panelGroup styleClass="postad-upload-outer">
							<p:fileUpload label="" styleClass="postad-upload" mode="advanced" auto="true" sizeLimit="100000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
						</h:panelGroup>
					</c:otherwise>
				</h:panelGrid>

				<p class="postad-subtitle">Feladatvégzés helye:</p>

				<h:panelGrid columns="2">
					<p:autoComplete size="13" completeMethod="#{addressBean.completeSettlement}" id="settlement"
						value="#{postAdBean.ad.address.zipcodeAndCity}" />
					<p:inputText size="13" id="other" value="#{postAdBean.ad.address.other}" />
				</h:panelGrid>
				<p:watermark for="settlement" value="helység" />
				<p:watermark for="other" value="cím*" />

				<p class="postad-text-small">* A hirdetés megjelenítése során utcaszintű adatokat jelenítünk meg.</p>
				<p class="postad-text-small">&nbsp;&nbsp;A pontos címet csak létrejött kapcsolat esetén küljük el a feladat elvégzőjének."</p>

				<h:form>
					<p:commandLink action="#{postAdBean.homeWorkBtnAction}" update="@this" immediate="true">
						<p:graphicImage rendered="#{postAdBean.ad.homework}" library="img" name="/postad/otthonrol_vegezheto_igen.png" />
						<p:graphicImage rendered="#{!postAdBean.ad.homework}" library="img" name="/postad/otthonrol_vegezheto_nem.png" />
					</p:commandLink>
				</h:form>
				<p class="postad-subtitle">Díjazás</p>

				<!-- TODO: ez itt lehet nagyon nem jó -->
				<h:panelGrid columns="2">
					<h:form>
						<p:commandLink id="fix" action="#{postAdBean.specifiedJobTimeBtnAction}" update="@this" immediate="true">
							<p:graphicImage rendered="#{postAdBean.ad.specifiedJobTime}" library="img" name="/postad/fix_igen.png" />
							<p:graphicImage rendered="#{!postAdBean.ad.specifiedJobTime}" library="img" name="/postad/fix_nem.png" />
						</p:commandLink>
					</h:form>
					<h:form>
						<p:commandLink id="hourAward" action="#{postAdBean.specifiedJobTimeBtnAction}" update="@this" immediate="true">
							<p:graphicImage rendered="#{postAdBean.ad.specifiedJobTime}" library="img" name="/postad/oradij_igen.png" />
							<p:graphicImage rendered="#{!postAdBean.ad.specifiedJobTime}" library="img" name="/postad/oradij_nem.png" />
						</p:commandLink>
					</h:form>
				</h:panelGrid>
				<!-- 				<p:selectOneRadio id="renumeration" value="#{postAdBean.ad.remuneration}"> -->
				<!-- 					<f:selectItems value="#{advertisementService.getRemunerations()}" /> -->
				<!-- 				</p:selectOneRadio> -->
				<pe:inputNumber id="maxOffer" value="#{postAdBean.ad.maxOffer}" symbol=" Ft" symbolPosition="suffix" decimalPlaces="0" />
				<p:watermark for="maxOffer" value="maximum ajánlat (Ft)" />

				<p:commandButton id="timechooser" value="Időpont választása" />
				<p:overlayPanel my="left top" at="left top" id="postadSchedule" widgetVar="postadScheduleWidget" for="timechooser" dismissable="false"
					showCloseIcon="true">
					<ui:include src="/fragments/postad/postadtimetable.xhtml" />
				</p:overlayPanel>
			</h:panelGrid>

			<p:commandLink id="postad" action="#{postAdBean.post()}" validateClient="true">
				<p:graphicImage library="img" name="postad/narancs_hirdetes.png" style="cursor:pointer" title="Mentés" />
			</p:commandLink>
		</h:form>
	</ui:composition>
</h:body>
</html>